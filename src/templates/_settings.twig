{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Validit plugin for Craft CMS
 *
 * ValiditField Field Settings
 *
 * @author    Fruit Studios
 * @copyright Copyright (c) 2018 Fruit Studios
 * @link      https://fruitstudios.co.uk
 * @package   Validit
 * @since     1.0.0
 */
#}

{% import "_includes/forms" as forms %}

{{ forms.selectField({
    label: 'Type'|t('validit'),
    instructions: 'What would you like to validate.'|t('validit'),
    id: 'type',
    name: 'type',
    value: field.type,
    options: field.types,
    errors: field.getErrors('type'),
    toggle: true
}) }}

<div id="custom" class="{{ field.type != 'custom' ? 'hidden' }}">

    {{ forms.textField({
        label: 'Regex'|t('validit'),
        instructions: 'Validate this field with a custom regex rule.'|t('validit'),
        id: 'regex',
        name: 'regex',
        value: field.regex,
        errors: field.getErrors('regex')
    }) }}

</div>

{{ forms.textField({
    label: 'Validation Message'|t('validit'),
    instructions: 'Override the default validation message displayed on failed validation.'|t('validit'),
    id: 'message',
    name: 'message',
    value: field.message,
    errors: field.getErrors('message')
}) }}

{{ forms.textField({
    label: 'Placeholder'|t('validit'),
    instructions: 'Override the default input placeholder.'|t('validit'),
    id: 'placeholder',
    name: 'placeholder',
    value: field.placeholder,
    errors: field.getErrors('placeholder')
}) }}



{#
{{ forms.lightswitchField({
    label: 'Toggle Visibility'|t('validit'),
    instructions: 'Select this if you would like the toggle to show / hide the selected field'|t('validit'),
    id: 'toggle',
    name: 'toggle',
    on: field.toggle,
    errors: field.getErrors('toggle')
}) }}

{{ forms.textField({
    label: 'Toggle Label'|t('validit'),
    instructions: 'Label for the toggle field'|t('validit'),
    id: 'label',
    name: 'label',
    value: field.label,
    errors: field.getErrors('label')
}) }}

{{ forms.selectField({
    label: 'Field'|t('validit'),
    instructions: 'What type of field should we toggle?'|t('validit'),
    id: 'type',
    name: 'type',
    value: field.type,
    options: field.fields,
    errors: field.getErrors('type')
}) }}
 #}

{#
{% for type in allFieldTypes %}
    {% set isCurrent = (type == className(field)) %}
    <div id="{{ type|id }}"{% if not isCurrent %} class="hidden"{% endif %}>
        {% namespace 'types['~type~']' %}
            {% set _field = isCurrent ? field : craft.app.fields.createField(type) %}
            {{ _field.getSettingsHtml()|raw }}
        {% endnamespace %}
    </div>
{% endfor %}
#}
